<header>
  <app-header></app-header>
</header>
@if((filterText$ | async) !== ''){
<nav>
  <div class="search-info">
    <span>Results for "{{ filterText$ | async }}"</span>
  </div>
</nav>
}

<main>
  @if(((groupedBookmarks$ | async) ?? []).length > 0) {
  <div class="container">
    <div class="text-right">
      <mat-icon
        class="add-bookmark"
        matTooltip="Add Bookmark"
        matTooltipPosition="left"
        routerLink="/bookmarks/useraction"
        aria-hidden="false"
        (click)="onAction(null)"
        >bookmark_add</mat-icon
      >
    </div>
    <div class="content-wrapper">
      @for(group of groupedBookmarks$ | async; track group.label){
      <div>
        <h3>{{ group.label }}</h3>
      </div>
      @for(bookmark of group.bookmarks; track bookmark.id) {
      <div class="content">
        <mat-icon>bookmark</mat-icon>
        <div class="bookmark-data">
          <b>{{ bookmark.title }}</b>
          <a href="#">{{ bookmark.url }}</a>
        </div>
        <mat-icon
          [routerLink]="['/bookmarks/useraction', bookmark.id]"
          class="edit-icon"
          (click)="onAction(bookmark.id)"
          >edit</mat-icon
        >
      </div>
      } }
    </div>
  </div>
  }@else if(!(error$ | async) && (isLoading$ | async)) {
  <div class="loading">
    <mat-progress-spinner
      mode="indeterminate"
      diameter="50"
      strokeWidth="5"
    ></mat-progress-spinner>
  </div>
  } @else {
  <div class="no-bookmarks">
    <span>No bookmarks found</span>
  </div>
  }
</main>
